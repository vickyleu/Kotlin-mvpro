/*
 * Copyright (C) 2017 Ricky.yao https://github.com/vihuela
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 */

plugins {
    id 'com.android.library'
    id 'kotlin-android'
    id 'kotlin-kapt'
    id 'maven-publish'
}

group = 'com.github.vickyleu'
version = '1.0.0'

android {
    compileSdkVersion 30
    defaultConfig {
        minSdkVersion 16
        //noinspection ExpiredTargetSdkVersion
        targetSdkVersion 28
        versionCode 1
        versionName "1.0"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    lintOptions {
        abortOnError false
    }
    buildFeatures {
        dataBinding true
    }
}

dependencies {
    api fileTree(dir: 'libs', include: ['*.jar'])
    //noinspection GradleDependency
    api "androidx.appcompat:appcompat:1.3.1"
    api "androidx.cardview:cardview:1.0.0"
    api 'androidx.multidex:multidex:2.0.1'
    api "org.jetbrains.anko:anko-commons:0.10.8"
    api "org.jetbrains.anko:anko-sdk25:0.10.8"
    api "org.jetbrains.anko:anko-appcompat-v7:0.10.8"
    api "org.jetbrains.anko:anko-support-v4:0.10.8"
    //retrofit & okHttp
    api "com.squareup.retrofit2:retrofit:2.9.0"
    api "com.squareup.retrofit2:adapter-rxjava3:2.9.0"
    api "com.squareup.retrofit2:converter-gson:2.9.0"
    api "com.squareup.okhttp3:logging-interceptor:4.9.1"
    api "com.squareup.okhttp3:okhttp:4.9.1"
    //https://github.com/vihuela/Retrofitplus
    api 'com.github.vickyleu:Retrofitplus:1.0.0'
    //rx


//    api "com.jakewharton.rxbinding2:rxbinding:2.2.0"
//    api "com.jakewharton.rxbinding2:rxbinding-support-v4:2.2.0"
//    api "com.jakewharton.rxbinding2:rxbinding-appcompat-v7:2.2.0"

    api 'com.jakewharton.rxbinding4:rxbinding:4.0.0'
    implementation 'com.jakewharton.rxbinding4:rxbinding-core:4.0.0'
    implementation 'com.jakewharton.rxbinding4:rxbinding-appcompat:4.0.0'

    api 'com.github.vickyleu.RxCache:runtime:1.0.0'
    api 'com.github.vickyleu.Jolyglot:api:1.0.0'
    api 'com.github.vickyleu.Jolyglot:gson:1.0.0'

    api 'com.github.vickyleu:ReactiveNetwork:1.0.0'
    ///rxjava3 原repo https://github.com/pwittchen/ReactiveNetwork.git 怕对方删除,自己做了个备份
    api 'com.github.tbruyelle:rxpermissions:0.12'
    //utils
    api 'org.greenrobot:eventbus:3.2.0'
    //smooth open image,https://github.com/Hitomis/transferee
    api 'com.github.Hitomis.transferee:Transferee:1.6.1'
    api 'com.github.Hitomis.transferee:GlideLoader:v1.1.0'

    api 'io.paperdb:paperdb:2.6'//db
    implementation 'com.blankj:utilcodex:1.30.6'
    api 'com.github.bumptech.glide:glide:4.12.0'
    api 'com.flyco.tablayout:FlycoTabLayout_Lib:2.1.2'//tab
    api 'nz.bradcampbell:paperparcel:2.0.4'//持久化
    api 'nz.bradcampbell:paperparcel-kotlin:2.0.4'
    api 'com.github.Kennyc1012:MultiStateView:1.3.2'//视图状态切换
    api 'com.just.agentweb:agentweb:4.0.2'//webView
    api 'com.github.mzule.activityrouter:activityrouter:1.2.2'//路由
    //https://github.com/vihuela/RefreshLayout
    compileOnly 'com.github.vickyleu:RefreshLayout:1.0.0'
    api 'com.github.CymChad:BaseRecyclerViewAdapterHelper:3.0.7'

    api "com.trello.rxlifecycle4:rxlifecycle:4.0.2"
    api "com.trello.rxlifecycle4:rxlifecycle-components:4.0.2"
    api "com.trello.rxlifecycle4:rxlifecycle-android:4.0.2"
    api "com.trello.rxlifecycle4:rxlifecycle-kotlin:4.0.2"
    api "com.trello.rxlifecycle4:rxlifecycle-android-lifecycle:4.0.2"
    api "com.trello.rxlifecycle4:rxlifecycle-android-lifecycle-kotlin:4.0.2"

    api "io.reactivex.rxjava3:rxjava:3.1.3"
    api "io.reactivex.rxjava3:rxkotlin:3.0.1"
    api "io.reactivex.rxjava3:rxandroid:3.0.0"
}


afterEvaluate {
    publishing {
        publications {
            // Creates a Maven publication called "release".
            release(MavenPublication) {
                from components.release
                groupId = 'com.github.vickyleu'
                artifactId = 'mvp'
                version = '1.0.0'
            }
        }
    }
}
